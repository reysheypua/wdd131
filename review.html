<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Review Confirmed</title>
    <meta name="author" content="Reyshey Keena Pua">
    <meta name="description" content="This is the Review page after posting a review from the Product Review Form page for my week 5 course output in WDD131.">
    <link rel="stylesheet" href="css/main.css">
    </head>
<body>
    <header>
        <h1>Review Submitted!</h1>
    </header>

    <main>
        <h2>Thank you for your feedback.</h2>
        <p>Your review has been successfully processed.</p>
        
        <div id="reviewCounter"></div>

        <p><a href="form.html">Submit another review</a></p>
    </main>

    <footer>
        <p>&copy;2024 Rubia Magdalena Francesco - Madagascar</p>
        <p>Last Modification: <span id="lastModified"></span></p>
    </footer>

    <script>
        function updateReviewCounter() {
            let reviewCount = Number(localStorage.getItem('reviewCount')) || 0;
            
            reviewCount++;
            
            localStorage.setItem('reviewCount', reviewCount);

            const counterElement = document.getElementById('reviewCounter');
            counterElement.innerHTML = `<h3>You have submitted **${reviewCount}** review(s) using this device.</h3>`;
        }

        function updateLastModified() {
            const lastModifiedElement = document.getElementById('lastModified');
            if (lastModifiedElement) {
                const date = new Date(document.lastModified);
                const dateStr = date.toLocaleDateString('en-US');
                const timeStr = date.toLocaleTimeString('en-US', {hour12: false, hour: '2-digit', minute:'2-digit', second:'2-digit'});
                lastModifiedElement.textContent = `${dateStr} ${timeStr}`;
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            updateReviewCounter();
            updateLastModified();
        });
    </script>
</body>
</html>